<template>
  <div class="home">
    <div id="logos">
      <div id="logos-bg">
        <svg
          id="upsi-fork"
          width="85.845mm"
          height="539.56mm"
          version="1.1"
          viewBox="0 0 85.845 539.56"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g transform="translate(-13.267 188.99)">
            <path
              d="m92.498-182.04v192.63c0 12.972-6.9202 24.958-18.154 31.444-11.234 6.4858-25.074 6.4858-36.308-1e-6 -11.234-6.4858-18.154-18.472-18.154-31.444v-192.97"
              stroke-linecap="square"
              stroke-linejoin="round"
              stroke-width="15"
              style="paint-order: stroke fill markers"
            />
            <path d="m56.154 46.899v303.67" stroke-width="15" />
          </g>
        </svg>
      </div>
      <div id="text-bg"></div>
      <svg
        width="635.25"
        height="183"
        version="1.1"
        viewBox="0 0 168.08 48.419"
        xmlns="http://www.w3.org/2000/svg"
        id="upsi-logo"
      >
        <g stroke-width=".26458">
          <path
            d="m28.451 24.085q0 2.9518-1.1162 5.5562-1.1162 2.5797-3.051 4.5145-1.9348 1.91-4.5393 3.0262-2.5797 1.1162-5.5314 1.1162-2.9518 0-5.5563-1.1162-2.5797-1.1162-4.5145-3.0262-1.91-1.9348-3.0262-4.5145-1.1162-2.6045-1.1162-5.5562v-21.357h7.0941v21.357q0 1.4635 0.5457 2.7533 0.57051 1.2898 1.5379 2.2572 0.96738 0.96738 2.2572 1.5379 1.3146 0.5457 2.7781 0.5457 1.4635 0 2.7533-0.5457 1.3146-0.57051 2.282-1.5379t1.5131-2.2572q0.57051-1.2898 0.57051-2.7533v-21.357h7.1189z"
          />
          <path
            d="m40.233 48.419h-6.8213v-36.686h1.6371l2.7037 3.1998q0.91777-0.86816 2.0092-1.6371 1.0914-0.76895 2.2572-1.3146 1.1906-0.57051 2.4557-0.89297t2.5549-0.32246q2.8029 0 5.2586 1.017 2.4805 0.99219 4.316 2.8277 1.8604 1.8355 2.927 4.44 1.0666 2.5797 1.0666 5.7299 0 3.2742-1.0666 5.9035-1.0666 2.6045-2.927 4.44-1.8355 1.8107-4.316 2.7781-2.4557 0.96738-5.2586 0.96738-0.89297 0-1.7859-0.19844-0.86816-0.19844-1.7363-0.5209-0.84336-0.34727-1.6867-0.76894-0.81856-0.42168-1.5875-0.86816zm13.568-23.639q0-1.6867-0.5457-3.0262-0.5209-1.3395-1.4387-2.2572-0.91777-0.94258-2.158-1.4387-1.2402-0.49609-2.6293-0.49609-1.3891 0-2.6293 0.49609-1.2154 0.49609-2.1332 1.4387-0.91777 0.91777-1.4635 2.2572-0.5209 1.3395-0.5209 3.0262 0 1.6123 0.5209 2.9518 0.5457 1.3395 1.4635 2.282 0.91777 0.94258 2.1332 1.4635 1.2402 0.5209 2.6293 0.5209 1.3891 0 2.6293-0.5209 1.2402-0.5209 2.158-1.4635 0.91777-0.94258 1.4387-2.282 0.5457-1.3395 0.5457-2.9518z"
          />
          <path
            d="m78.929 38.298h-15.478v-6.7469h15.478q0.69453 0 1.1906-0.49609 0.49609-0.49609 0.49609-1.1906 0-0.71934-0.49609-0.94258-0.49609-0.22324-1.1906-0.22324h-7.0445q-1.7611 0-3.299-0.66973-1.5379-0.66973-2.6789-1.8107-1.141-1.1658-1.8107-2.7037-0.64492-1.5379-0.64492-3.299 0-1.7611 0.64492-3.299 0.66973-1.5379 1.8107-2.6789 1.141-1.141 2.6789-1.7859 1.5379-0.66973 3.299-0.66973h13.717v6.7469h-13.717q-0.69453 0-1.1906 0.49609-0.49609 0.49609-0.49609 1.1906 0 0.71934 0.49609 1.2402 0.49609 0.49609 1.1906 0.49609h7.0445q1.7363 0 3.2742 0.59531 1.5379 0.57051 2.6789 1.6123 1.141 1.0418 1.8107 2.5053 0.66973 1.4635 0.66973 3.1998 0 1.7611-0.66973 3.299-0.66973 1.5131-1.8107 2.6789-1.141 1.141-2.6789 1.8107-1.5379 0.64492-3.2742 0.64492z"
          />
          <path
            d="m98.946 4.5145q0 0.94258-0.37207 1.7611-0.34727 0.81855-0.96738 1.4387-0.62012 0.59531-1.4635 0.96738-0.81856 0.34727-1.7611 0.34727t-1.7859-0.34727q-0.81855-0.37207-1.4387-0.96738-0.59531-0.62012-0.96738-1.4387-0.34727-0.81855-0.34727-1.7611 0-0.91777 0.34727-1.7363 0.37207-0.84336 0.96738-1.4387 0.62012-0.62012 1.4387-0.96738 0.84336-0.37207 1.7859-0.37207t1.7611 0.37207q0.84336 0.34727 1.4635 0.96738 0.62012 0.59531 0.96738 1.4387 0.37207 0.81855 0.37207 1.7363zm-1.1658 33.784h-6.8213v-26.566h6.8213z"
          />
          <path d="m109.76 38.298h-6.8213v-37.133h6.8213z" />
          <path
            d="m140.59 24.78q0 2.9766-1.0666 5.5562-1.0666 2.5549-2.9022 4.44-1.8356 1.8604-4.316 2.9518-2.4557 1.0666-5.2834 1.0666-2.8029 0-5.2834-1.0666-2.4557-1.0914-4.316-2.9518-1.8356-1.8852-2.9022-4.44-1.0666-2.5797-1.0666-5.5562 0-3.0262 1.0666-5.6059 1.0666-2.5797 2.9022-4.44 1.8604-1.8852 4.316-2.9518 2.4805-1.0666 5.2834-1.0666 2.8277 0 5.2834 1.017 2.4805 0.99219 4.316 2.8525 1.8355 1.8355 2.9022 4.44 1.0666 2.5797 1.0666 5.7547zm-6.8213 0q0-1.6371-0.54571-2.9518-0.52089-1.3395-1.4387-2.282-0.91777-0.96738-2.158-1.4635-1.2154-0.5209-2.6045-0.5209-1.3891 0-2.6293 0.5209-1.2154 0.49609-2.1332 1.4635-0.89297 0.94258-1.4139 2.282-0.5209 1.3146-0.5209 2.9518 0 1.5379 0.5209 2.8525 0.52089 1.3146 1.4139 2.282 0.91778 0.96738 2.1332 1.5379 1.2402 0.5457 2.6293 0.5457 1.3891 0 2.6045-0.5209 1.2402-0.5209 2.158-1.4635 0.91778-0.94258 1.4387-2.282 0.54571-1.3395 0.54571-2.9518z"
          />
          <path
            d="m151.11 38.298h-6.7717v-26.566h1.6371l2.2324 2.5797q1.6371-1.4883 3.6959-2.282 2.0836-0.81856 4.3408-0.81856 2.4309 0 4.5889 0.94258 2.158 0.91777 3.7703 2.5549 1.6123 1.6123 2.5301 3.7951 0.94258 2.158 0.94258 4.6137v15.18h-6.7717v-15.18q0-1.0418-0.39688-1.9596-0.39687-0.94258-1.0914-1.6371t-1.6123-1.0914q-0.91777-0.39688-1.9596-0.39688-1.0666 0-2.0092 0.39688-0.94257 0.39688-1.6371 1.0914-0.69453 0.69453-1.0914 1.6371-0.39688 0.91777-0.39688 1.9596z"
          />
        </g>
      </svg>
      <div id="slogan">When Epsiloff and Omegout</div>
    </div>
    <div id="content">
      <div class="features-header" id="features-upsilon-header">
        <h2>
          {{ t('home.features.header.upsilon') }}
        </h2>
      </div>
      <div class="features" id="features-upsilon">
        <Feature :title="t('features.reader.name')">
          {{ t('features.reader.description') }}
          <router-link to="/doc/latex">{{
            t('features.reader.docLink')
          }}</router-link>
        </Feature>

        <Feature :title="t('features.protection.title')">
          {{ t('features.protection.content') }}
        </Feature>
        <Feature :title="t('features.python.title')">
          <ul>
            <li>{{ t('features.python.ulab') }}</li>
            <li>{{ t('features.python.sys') }}</li>
            <li>{{ t('features.python.battery') }}</li>
          </ul>
        </Feature>
      </div>
      <div class="features-header" id="features-omega-header">
        <h2>
          {{ t('home.features.header.omega') }}
        </h2>
      </div>
      <div class="features" id="features-omega">
        <Feature :title="t('features.external.name')">
          {{ t('features.external.description') }}
          <a
            href="https://lauryy06.github.io/Upsilon-External/"
            target="_blank"
            rel="noopener noreferrer"
            >{{ t('features.external.installNow') }}</a
          >
        </Feature>
        <Feature :title="t('features.symbolic.name')">
          {{ t('features.symbolic.description') }}
        </Feature>
        <Feature :title="t('features.themes.name')">
          {{ t('features.themes.description') }}
          <ul>
            <li>Upsilon light</li>
            <li>Omega light</li>
            <li>Omega dark</li>
            <li>Epsilon light</li>
            <li>Epsilon dark</li>
          </ul>
          <a
            href="https://github.com/Omega-Numworks-Prod/Omega-custom-theme-Listing"
            target="_blank"
            rel="noopener noreferrer"
          >
            {{ t('features.themes.andmanymore') }}
          </a>
        </Feature>
        <Feature :title="t('features.periodic.name')">
          {{ t('features.periodic.description') }}
        </Feature>
        <Feature :title="t('features.rpn.name')">
          {{ t('features.rpn.description') }}
          <router-link to="/doc/rpn">{{
            t('features.rpn.docLink')
          }}</router-link>
        </Feature>
        <Feature :title="t('features.3ds.name')">
          {{ t('features.3ds.description') }}
        </Feature>
      </div>
    </div>
  </div>
</template>

<script>
import Feature from '@/components/Feature.vue'
import { useI18n } from 'vue-i18n'
import { defineComponent } from 'vue'

export default defineComponent({
  name: 'Home',
  setup () {
    const { t } = useI18n({
      inheritLocale: true,
      useScope: 'global'
    })
    return { t }
  },
  components: { Feature },
  mounted () {
    const updateSize = () => {
      // TODO check if on home page
      document.getElementById(
        'upsi-fork'
      ).style.transform = `translateX(-50%) scale(${window.innerHeight / 500})`
      document.getElementById(
        'upsi-logo'
      ).style.transform = `translateX(-50%) translateY(-50%) scale(${Math.min(
        window.innerHeight / 1000,
        window.innerWidth / 800
      )})`
    }
    window.addEventListener('resize', updateSize)
    updateSize()
  }
})
</script>
<style>
@media screen and (min-width: 1500px) {
  .features {
    grid-template-columns: repeat(3, 1fr);
  }
}
@media screen and (max-width: 1500px) and (min-width: 1100px) {
  .features {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media screen and (max-width: 1100px) {
  .features {
    grid-template-columns: 1fr;
  }
}
@media screen and (max-width: 500px) {
  .features {
    padding: 10px;
  }
}
@media screen and (min-width: 500px) {
  .features {
    padding: 30px;
  }
}

.feature-content > a {
  display: block;
  margin: 5px;
}
a {
  color: var(--complementary);
  font-weight: bold;
}
a:visited {
  color: var(--complementary);
}
h1,
h2 {
  font-family: 'Righteous';
}
h1 {
  font-size: 3em;
  text-align: center;
}
h2 {
  font-size: 2em;
}
#content {
  position: absolute;
  top: 100vh;
  background-color: var(--upsilon-2);
  width: 100vw;
}

.features-header {
  padding-top: 2em;
  padding-bottom: 2em;
  margin: 0;
  text-align: center;
  font-size: 2em;
  font-family: Lato;
  font-weight: 200;
  display: flex;
  justify-content: center;
}
.features-header h2 {
  font-size: inherit;
  font-family: inherit;
  font-weight: inherit;
  margin: 0;
  margin-left: 10px;
  margin-right: 10px;
  padding: 20px;
  border-radius: 10px;
}
#features-omega-header h2 {
  background-color: var(--feature-bg-omega);
}
#features-upsilon-header h2 {
  background-color: var(--feature-bg-upsilon);
}
.features,
.features-header {
  background-attachment: fixed !important;
  background-size: cover !important;
}
.light #features-omega,
.light #features-omega-header {
  background-image: url('~@/assets/Calculators_omega_light.webp');
}
.dark #features-omega,
.dark #features-omega-header {
  background-image: url('~@/assets/Calculators_omega_dark.webp');
}
.light #features-upsilon,
.light #features-upsilon-header {
  background-image: url('~@/assets/Calculators_upsilon_light.webp');
}
.dark #features-upsilon,
.dark #features-upsilon-header {
  background-image: url('~@/assets/Calculators_upsilon_dark.webp');
}
.features {
  display: grid;
  justify-content: space-between;
  flex-wrap: wrap;
  background-position: fixed;
  background-size: fit;
}
#logos > #slogan {
  top: 51%;
  transform: translateX(-50%);
  color: var(--foreground);
  font-size: 3vh;
  animation: appear-from-left 0.8s;
  font-family: monospace;
}
#logos > #logos-bg > #upsi-fork {
  stroke: var(--upsilon-1);
  fill: none;
  animation: appear-from-top-fork 0.6s;
  top: -120%;
  transform-origin: top center;
}
#logos > #upsi-logo {
  animation: appear-from-top-logo 0.7s;
  fill: var(--foreground);
  transform: translateX(-50%) translateY(-50%);
  top: 40%;
}
#logos > *,
#logos-bg > * {
  position: absolute;
  top: 0;
  left: 50%;
  z-index: -10;
}
#logos-bg,
#text-bg {
  left: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}
#logos-bg {
  background: var(--upsilon-2);
  background-size: cover;
  transition: background-image 0.5s;
}
.light #logos-bg {
  background-image: url('~@/assets/Two_calculators_light.webp');
}
.dark #logos-bg {
  background-image: url('~@/assets/Two_calculators_dark.webp');
}
#text-bg {
  background: linear-gradient(0, var(--upsilon-2), #00000000);
}
#logos {
  pointer-events: none;
  user-select: none;
}
@keyframes appear-from-top-fork {
  0% {
    top: -275%;
  }
  100% {
    top: -120%;
  }
}
@keyframes appear-from-top-logo {
  0% {
    top: -100%;
  }
  25% {
    top: -100%;
  }
  100% {
    top: 40%;
  }
}
@keyframes appear-from-left {
  0% {
    left: -100%;
  }
  50% {
    left: -100%;
  }
  100% {
    left: 50%;
  }
}
</style>
